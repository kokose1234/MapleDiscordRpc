//  Copyright 2023 Jonguk Kim
//
//  Licensed under the Apache License, Version 2.0 (the "License");
//  you may not use this file except in compliance with the License.
//  You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
//   Unless required by applicable law or agreed to in writing, software
//   distributed under the License is distributed on an "AS IS" BASIS,
//   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//   See the License for the specific language governing permissions and
//   limitations under the License.

using System;
using System.Collections.Generic;
using System.Net.Http;
using Newtonsoft.Json;

namespace MapleDiscordRpc.Data;

public class MapleDataProvider
{
    #region Singleton

    private static readonly Lazy<MapleDataProvider> Lazy = new(() => new MapleDataProvider());

    public static MapleDataProvider Instance => Lazy.Value;

    #endregion

    private readonly Dictionary<int, MapData> _maps;


    public MapleDataProvider()
    {
        using var client = new HttpClient();
        var json = client.GetStringAsync("https://gist.githubusercontent.com/kokose1234/dc153b33049896010bb4721df7946016/raw/5be3a17d54221582285a211c37c45ce1f59fd002/map_data.json");
        json.Wait();
        _maps = JsonConvert.DeserializeObject<Dictionary<int, MapData>>(json.Result) ?? new();
    }

    public MapData? GetMapData(int id) => _maps.ContainsKey(id) ? _maps[id] : null;

    public string GetJobName(int id)
    {
        switch (id)
        {
            case 100:
                return "검사";
            case 110:
                return "파이터";
            case 111:
                return "크루세이더";
            case 112:
                return "히어로";
            case 120:
                return "페이지";
            case 121:
                return "나이트";
            case 122:
                return "팔라딘";
            case 130:
                return "스피어맨";
            case 131:
                return "버서커";
            case 132:
                return "다크나이트";
            case 200:
                return "매지션";
            case 210:
                return "위자드(불,독)";
            case 211:
                return "메이지(불,독)";
            case 212:
                return "아크메이지(불,독)";
            case 220:
                return "위자드(썬,콜)";
            case 221:
                return "메이지(썬,콜)";
            case 222:
                return "아크메이지(썬,콜)";
            case 230:
                return "클레릭";
            case 231:
                return "프리스트";
            case 232:
                return "비숍";
            case 300:
            case 301:
                return "아처";
            case 310:
                return "헌터";
            case 311:
                return "레인저";
            case 312:
                return "보우마스터";
            case 320:
                return "사수";
            case 321:
                return "저격수";
            case 322:
                return "신궁";
            case 330:
                return "에이션트 아처";
            case 331:
                return "체이서";
            case 332:
                return "패스파인더";
            case 400:
            case 401:
                return "로그";
            case 410:
                return "어쌔신";
            case 411:
                return "허밋";
            case 412:
                return "나이트로드";
            case 420:
                return "시프";
            case 421:
                return "시프마스터";
            case 422:
                return "섀도어";
            case 430:
                return "세미듀어러";
            case 431:
                return "듀어러";
            case 432:
                return "듀얼마스터";
            case 433:
                return "슬래셔";
            case 434:
                return "듀얼블레이더";
            case 500:
                return "해적";
            case 510:
                return "인파이터";
            case 511:
                return "버커니어";
            case 512:
                return "바이퍼";
            case 520:
                return "건슬링거";
            case 521:
                return "발키리";
            case 522:
                return "캡틴";
            case 501:
            case 530:
                return "캐논슈터";
            case 531:
                return "캐논블래스터";
            case 532:
                return "캐논마스터";
            case 1000:
                return "노블레스";
            case 1100:
            case 1110:
            case 1111:
            case 1112:
                return "소울마스터";
            case 5000:
            case 5100:
            case 5111:
            case 5112:
                return "미하일";
            case 1200:
            case 1210:
            case 1211:
            case 1212:
                return "플레임위자드";
            case 1300:
            case 1310:
            case 1311:
            case 1312:
                return "윈드브레이커";
            case 1400:
            case 1410:
            case 1411:
            case 1412:
                return "나이트워커";
            case 1500:
            case 1510:
            case 1511:
            case 1512:
                return "스트라이커";
            case 2000:
                return "레전드";
            case 2100:
            case 2110:
            case 2111:
            case 2112:
                return "아란";
            case 2001:
            case 2200:
            case 2210:
            case 2211:
            case 2212:
            case 2213:
            case 2214:
            case 2215:
            case 2216:
            case 2217:
            case 2218:
                return "에반";
            case 2004:
            case 2700:
            case 2710:
            case 2711:
            case 2712:
                return "루미너스";
            case 2002:
            case 2300:
            case 2310:
            case 2311:
            case 2312:
                return "메르세데스";
            case 2003:
            case 2400:
            case 2410:
            case 2411:
            case 2412:
                return "팬텀";
            case 2005:
            case 2500:
            case 2510:
            case 2511:
            case 2512:
                return "은월";
            case 3000:
                return "시티즌";
            case 3700:
            case 3710:
            case 3711:
            case 3712:
                return "블래스터";
            case 3200:
            case 3210:
            case 3211:
            case 3212:
                return "배틀메이지";
            case 3300:
            case 3310:
            case 3311:
            case 3312:
                return "와일드헌터";
            case 3002:
            case 3600:
            case 3610:
            case 3611:
            case 3612:
                return "제논";
            case 3500:
            case 3510:
            case 3511:
            case 3512:
                return "메카닉";
            case 3001:
                return "데몬";
            case 3100:
            case 3110:
            case 3111:
            case 3112:
                return "데몬슬레이어";
            case 3120:
            case 3121:
            case 3122:
                return "데몬어벤져";
            case 6000:
            case 6100:
            case 6110:
            case 6111:
            case 6112:
                return "카이저";
            case 6003:
            case 6300:
            case 6310:
            case 6311:
            case 6312:
                return "카인";
            case 6002:
            case 6400:
            case 6410:
            case 6411:
            case 6412:
                return "카데나";
            case 6001:
            case 6500:
            case 6510:
            case 6511:
            case 6512:
                return "엔젤릭버스터";
            case 15002:
            case 15100:
            case 15110:
            case 15111:
            case 15112:
                return "아델";
            case 15000:
            case 15200:
            case 15210:
            case 15211:
            case 15212:
                return "일리움";
            case 15001:
            case 15500:
            case 15510:
            case 15511:
            case 15512:
                return "아크";
            case 15003:
            case 15400:
            case 15410:
            case 15411:
            case 15412:
                return "칼리";
            case 16001:
            case 16200:
            case 16210:
            case 16211:
            case 16212:
                return "라라";
            case 16000:
            case 16400:
            case 16410:
            case 16411:
            case 16412:
                return "호영";
            case 10000:
            case 10100:
            case 10110:
            case 10111:
            case 10112:
                return "제로";
            case 14000:
            case 14100:
            case 14110:
            case 14111:
            case 14112:
                return "키네시스";
            case 13000:
            case 13100:
                return "핑크빈";
            case 13001:
            case 13500:
                return "예티";
            default:
                return "모험가";
        }
    }

    public string GetJobImageKey(int id)
    {
        switch (id)
        {
            case 100:
            case 110:
            case 111:
            case 112:
                return "hero";
            case 120:
            case 121:
            case 122:
                return "paladin";
            case 130:
            case 131:
            case 132:
                return "dark-knight";
            case 210:
            case 211:
            case 212:
                return "arch-mage";
            case 220:
            case 221:
            case 222:
                return "arch-mage-2";
            case 230:
            case 231:
            case 232:
                return "bishop";
            case 310:
            case 311:
            case 312:
                return "bowmaster";
            case 320:
            case 321:
            case 322:
                return "marksman";
            case 330:
            case 331:
            case 332:
                return "pathfinder";
            case 410:
            case 411:
            case 412:
                return "night-lord";
            case 420:
            case 421:
            case 422:
                return "shadower";
            case 430:
            case 431:
            case 432:
            case 433:
            case 434:
                return "dual-blade";
            case 510:
            case 511:
            case 512:
                return "viper";
            case 520:
            case 521:
            case 522:
                return "cpatain";
            case 530:
            case 531:
            case 532:
                return "cannon-shooter";
            case 1100:
            case 1110:
            case 1111:
            case 1112:
                return "soul-master";
            case 5000:
            case 5100:
            case 5111:
            case 5112:
                return "mihile";
            case 1200:
            case 1210:
            case 1211:
            case 1212:
                return "flame-wizard";
            case 1300:
            case 1310:
            case 1311:
            case 1312:
                return "wind-breaker";
            case 1400:
            case 1410:
            case 1411:
            case 1412:
                return "night-walker";
            case 1500:
            case 1510:
            case 1511:
            case 1512:
                return "striker";
            case 2100:
            case 2110:
            case 2111:
            case 2112:
                return "aran";
            case 2001:
            case 2200:
            case 2210:
            case 2211:
            case 2212:
            case 2213:
            case 2214:
            case 2215:
            case 2216:
            case 2217:
            case 2218:
                return "evan";
            case 2004:
            case 2700:
            case 2710:
            case 2711:
            case 2712:
                return "luminous";
            case 2002:
            case 2300:
            case 2310:
            case 2311:
            case 2312:
                return "mercedes";
            case 2003:
            case 2400:
            case 2410:
            case 2411:
            case 2412:
                return "phantom";
            case 2005:
            case 2500:
            case 2510:
            case 2511:
            case 2512:
                return "eunwol";
            case 3700:
            case 3710:
            case 3711:
            case 3712:
                return "blaster";
            case 3200:
            case 3210:
            case 3211:
            case 3212:
                return "battle-mage";
            case 3300:
            case 3310:
            case 3311:
            case 3312:
                return "wild-hunter";
            case 3002:
            case 3600:
            case 3610:
            case 3611:
            case 3612:
                return "xenon";
            case 3500:
            case 3510:
            case 3511:
            case 3512:
                return "mechanic";
            case 3100:
            case 3110:
            case 3111:
            case 3112:
                return "demon-slayer";
            case 3120:
            case 3121:
            case 3122:
                return "demon-avenger";
            case 6000:
            case 6100:
            case 6110:
            case 6111:
            case 6112:
                return "kaiser";
            case 6003:
            case 6300:
            case 6310:
            case 6311:
            case 6312:
                return "kain";
            case 6002:
            case 6400:
            case 6410:
            case 6411:
            case 6412:
                return "cadena";
            case 6001:
            case 6500:
            case 6510:
            case 6511:
            case 6512:
                return "angelic-buster";
            case 15002:
            case 15100:
            case 15110:
            case 15111:
            case 15112:
                return "adele";
            case 15000:
            case 15200:
            case 15210:
            case 15211:
            case 15212:
                return "illium";
            case 15001:
            case 15500:
            case 15510:
            case 15511:
            case 15512:
                return "ark";
            case 15003:
            case 15400:
            case 15410:
            case 15411:
            case 15412:
                return "khali";
            case 16001:
            case 16200:
            case 16210:
            case 16211:
            case 16212:
                return "lara";
            case 16000:
            case 16400:
            case 16410:
            case 16411:
            case 16412:
                return "ho-young";
            case 10000:
            case 10100:
            case 10110:
            case 10111:
            case 10112:
                return "zero";
            case 14000:
            case 14100:
            case 14110:
            case 14111:
            case 14112:
                return "kinesis";
            case 13000:
            case 13100:
                return "pink-bean";
            case 13001:
            case 13500:
                return "yeti";
            default:
                return "beginner";
        }
    }
}